<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vinculação de Produtos e Categorias</title>
    <link rel="stylesheet" href="/res/admin/css/vinc.css">
</head>
<body>

<div class="container">
    <div class="list">
        <h3>Produtos</h3>
        <select id="produtos" size="10" multiple>
            {loop="$products"}
            <option value="produto">{$value.desproduct}</option>
            {/loop}
        </select>
    </div>
    <div class="buttons">
        <button onclick="vincular()">➔</button>
        <button onclick="desvincular()">←</button>
    </div>
    <div class="list">
        <h3>Categorias</h3>
        <select id="categorias" size="10" multiple>
            {loop="$categories"}
            <option value="categoria">{$value.descategory}</option>
            
            {/loop}
        </select>
    </div>
</div>

<script>
    function vincular() {
        var produtos = document.getElementById('produtos');
        var categorias = document.getElementById('categorias');

        for (var i = 0; i < produtos.options.length; i++) {
            if (produtos.options[i].selected) {
                var opt = produtos.options[i];
                categorias.add(new Option(opt.text, opt.value));
                produtos.remove(i);
                i--; // Adjust the index after removing an option
            }
        }
    }

    function desvincular() {
        var produtos = document.getElementById('produtos');
        var categorias = document.getElementById('categorias');

        for (var i = 0; i < categorias.options.length; i++) {
            if (categorias.options[i].selected) {
                var opt = categorias.options[i];
                produtos.add(new Option(opt.text, opt.value));
                categorias.remove(i);
                i--; // Adjust the index after removing an option
            }
        }
    }
</script>

</body>
</html>
